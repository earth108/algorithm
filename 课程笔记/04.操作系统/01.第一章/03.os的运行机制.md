一条高级语言的代码翻译过来可能会对应多条机器指令

程序运行的过程是CPU执行一条一条的机器指令的过程

---



一.内核：

很多的内核程序组成了“操作系统内核”，简称“内核”

内核是操作系统最重要最核心的部分，也是最接近硬件的部分。

---



二.特权指令-非特权指令

CPU两种状态："内核态"和"用户态"

处于内核态时，说明此时正在运行的是内核程序，此时可以执行特权指令

处于用户态时，说明此时正在运行的是应用程序，此时只能执行非特权指令

CPU中含有 程序状态字寄存器（PSW） ，其中有个二进制位，0表示‘内核态’，1表示‘用户态’

别名：

内核态 = 核心态 = 首态； 用户态 = 目态

---



CPU状态切换：os内核在让出CPU之前，用一条特权指令把PSW的标志位设置为‘用户态’

若CPU处在用户态，发现将执行的为特权指令，会引发中断信号，并立即变为‘核心态’，并停止运行当前应用程序，转而运行处理中断信号的内核程序。

-------------=----------------

内核态-> 用户态：执行一条特权指令--修改PSW的标志位为‘用户态’，意味着os将主动让出CPU使用权。

用户态-> 内核态：由‘中断’引发，硬件自动完成变态过程，触发中断信号，意味着操作系统将强行夺回CPU的使用权。


---

内核态 -> 用户态：一条修改PSW的特权指令

用户态-> 内核态：由中断引起，硬件自动完成
